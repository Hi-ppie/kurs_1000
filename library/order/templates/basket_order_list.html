<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Комиссия</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<div align = center>
    <br><br>
    {% if 'project_id' in session %}
    <a href="{{ url_for('blueprint_order.save_order') }}">Сформировать комиссию</a> <br><br>
    {% endif %}
    <a href="{{ url_for('blueprint_order.client') }}">Вернуться назад</a>
</div>

{% import 'basket_utils.html' as utils %}

<div class="container">
  <div class="row">
  <div class="col-md-8">
      {% if 'project_id' in session %}
      <h2>Все преподаватели для комиссии</h2>
      {% else %}
      <h2>Все проекты студента</h2>
      {% endif %}
      {% if items %}
      {% for item in items %}
      {{ utils.render_item(item, item['teacher_id'] or item['project_id'], show_form_add=('project_id' in session), show_form_commission=('project_id' not in session)) }}
      {% endfor %}
      {% else %}
        <p>Нет доступных элементов</p>
      {% endif %}
  </div>
  <div class="col-md-4">
      {% if 'project_id' in session %}
      <h2>Состав комиссии</h2>
      {% if basket %}
      {% for key, item in basket.items() %}
      {{ utils.render_item(item, key, show_form_sub=True) }}
      {% endfor %}
      <a href="{{ url_for('blueprint_order.clear_basket') }}">Очистить комиссию</a>
      {% else %}
        <p>Комиссия пуста</p>
      {% endif %}
      {% endif %}
  </div>
  </div>
</div>
</body>
</html>